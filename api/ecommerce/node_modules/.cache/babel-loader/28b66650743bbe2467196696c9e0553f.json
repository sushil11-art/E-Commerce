{"ast":null,"code":"import { createStore, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./reducers\";\nconst initialState = {};\nconst middleware = [thunk];\n\nfunction loadFromLocalStorage() {\n  try {\n    const serializedStore = window.localStorage.getItem('store');\n    if (serializedStore === null) return undefined;\n    return JSON.parse(serializedStore);\n  } catch (e) {\n    console.log(e);\n    return undefined;\n  }\n}\n\nfunction saveToLocalStorage(store) {\n  try {\n    const serializedStore = JSON.stringify(store);\n    window.localStorage.setItem('store', serializedStore);\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nconst persistedState = loadFromLocalStorage();\nconst store = createStore(rootReducer, initialState, persistedState, composeWithDevTools(applyMiddleware(...middleware)));\nstore.subscribe(() => saveToLocalStorage(store.getState()));\nexport default store;","map":{"version":3,"sources":["/home/sushil/2021/E-Commerce/frontend/ecommerce/src/store.js"],"names":["createStore","applyMiddleware","composeWithDevTools","thunk","rootReducer","initialState","middleware","loadFromLocalStorage","serializedStore","window","localStorage","getItem","undefined","JSON","parse","e","console","log","saveToLocalStorage","store","stringify","setItem","persistedState","subscribe","getState"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,eAAtB,QAA6C,OAA7C;AACA,SAASC,mBAAT,QAAoC,0BAApC;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,WAAP,MAAwB,YAAxB;AAEA,MAAMC,YAAY,GAAG,EAArB;AAEA,MAAMC,UAAU,GAAG,CAACH,KAAD,CAAnB;;AAEA,SAASI,oBAAT,GAAgC;AAC5B,MAAI;AACA,UAAMC,eAAe,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAxB;AACA,QAAGH,eAAe,KAAK,IAAvB,EAA6B,OAAOI,SAAP;AAC7B,WAAOC,IAAI,CAACC,KAAL,CAAWN,eAAX,CAAP;AACH,GAJD,CAIE,OAAMO,CAAN,EAAS;AACPC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,WAAOH,SAAP;AACH;AACJ;;AAED,SAASM,kBAAT,CAA4BC,KAA5B,EAAmC;AAC/B,MAAI;AACA,UAAMX,eAAe,GAAGK,IAAI,CAACO,SAAL,CAAeD,KAAf,CAAxB;AACAV,IAAAA,MAAM,CAACC,YAAP,CAAoBW,OAApB,CAA4B,OAA5B,EAAqCb,eAArC;AACH,GAHD,CAGE,OAAMO,CAAN,EAAS;AACPC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH;AACJ;;AAED,MAAMO,cAAc,GAAGf,oBAAoB,EAA3C;AAEA,MAAMY,KAAK,GAAGnB,WAAW,CACvBI,WADuB,EAEvBC,YAFuB,EAGvBiB,cAHuB,EAIrBpB,mBAAmB,CAACD,eAAe,CAAC,GAAGK,UAAJ,CAAhB,CAJE,CAAzB;AAQAa,KAAK,CAACI,SAAN,CAAgB,MAAML,kBAAkB,CAACC,KAAK,CAACK,QAAN,EAAD,CAAxC;AAIA,eAAeL,KAAf","sourcesContent":["import { createStore, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./reducers\";\n\nconst initialState = {};\n\nconst middleware = [thunk];\n\nfunction loadFromLocalStorage() {\n    try {\n        const serializedStore = window.localStorage.getItem('store');\n        if(serializedStore === null) return undefined;\n        return JSON.parse(serializedStore);\n    } catch(e) {\n        console.log(e);\n        return undefined;\n    }\n}\n\nfunction saveToLocalStorage(store) {\n    try {\n        const serializedStore = JSON.stringify(store);\n        window.localStorage.setItem('store', serializedStore);\n    } catch(e) {\n        console.log(e);\n    }\n}\n\nconst persistedState = loadFromLocalStorage();\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  persistedState,\n    composeWithDevTools(applyMiddleware(...middleware))\n\n);\n\nstore.subscribe(() => saveToLocalStorage(store.getState()));\n\n\n\nexport default store;\n\n"]},"metadata":{},"sourceType":"module"}