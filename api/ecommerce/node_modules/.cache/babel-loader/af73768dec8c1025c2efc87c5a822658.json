{"ast":null,"code":"import { LOGIN_FAIL, LOGIN_SUCCESS, REGISTER_FAIL, REGISTER_SUCCESS } from \"./types\";\nimport axios from \"axios\";\nimport { setAlert } from \"./alert\";\nexport const registerCustomer = ({\n  name,\n  email,\n  password\n}) => async dispatch => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"Application/json\"\n    }\n  };\n  const body = JSON.stringify({\n    name,\n    email,\n    password\n  });\n\n  try {\n    const res = await axios.post(\"http://localhost:4000/api/users/registerCustomer\", body, config);\n    console.log(res.data);\n    dispatch({\n      type: REGISTER_SUCCESS,\n      payload: res.date\n    });\n  } catch (err) {\n    if (err.reposnse && err.response.data) {\n      const errors = err.response.data.errors;\n\n      if (errors) {\n        errors.forEach(error => dispatch(setAlert(error.msg, \"danger\")));\n      }\n\n      dispatch({\n        type: REGISTER_FAIL\n      });\n    } // console.log(\"No error\")\n    // console.log(err.response);\n\n  }\n};","map":{"version":3,"sources":["/home/sushil/2021/E-Commerce/frontend/ecommerce/src/actions/auth.js"],"names":["LOGIN_FAIL","LOGIN_SUCCESS","REGISTER_FAIL","REGISTER_SUCCESS","axios","setAlert","registerCustomer","name","email","password","dispatch","config","headers","body","JSON","stringify","res","post","console","log","data","type","payload","date","err","reposnse","response","errors","forEach","error","msg"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,aAArB,EAAoCC,aAApC,EAAmDC,gBAAnD,QAA2E,SAA3E;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,SAAzB;AAGA,OAAO,MAAMC,gBAAgB,GAAC,CAAC;AAACC,EAAAA,IAAD;AAAMC,EAAAA,KAAN;AAAYC,EAAAA;AAAZ,CAAD,KAAyB,MAAMC,QAAN,IAAiB;AAEpE,QAAMC,MAAM,GAAC;AACTC,IAAAA,OAAO,EAAC;AACJ,sBAAe;AADX;AADC,GAAb;AAKA,QAAMC,IAAI,GAACC,IAAI,CAACC,SAAL,CAAe;AAACR,IAAAA,IAAD;AAAMC,IAAAA,KAAN;AAAYC,IAAAA;AAAZ,GAAf,CAAX;;AACA,MAAG;AACC,UAAMO,GAAG,GAAE,MAAMZ,KAAK,CAACa,IAAN,CAAW,kDAAX,EAA8DJ,IAA9D,EAAmEF,MAAnE,CAAjB;AACAO,IAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACI,IAAhB;AACAV,IAAAA,QAAQ,CAAC;AAACW,MAAAA,IAAI,EAAClB,gBAAN;AAAuBmB,MAAAA,OAAO,EAACN,GAAG,CAACO;AAAnC,KAAD,CAAR;AACH,GAJD,CAKA,OAAMC,GAAN,EAAU;AACN,QAAGA,GAAG,CAACC,QAAJ,IAAgBD,GAAG,CAACE,QAAJ,CAAaN,IAAhC,EAAqC;AACjC,YAAMO,MAAM,GAACH,GAAG,CAACE,QAAJ,CAAaN,IAAb,CAAkBO,MAA/B;;AACJ,UAAIA,MAAJ,EAAW;AACPA,QAAAA,MAAM,CAACC,OAAP,CAAgBC,KAAD,IAAWnB,QAAQ,CAACL,QAAQ,CAACwB,KAAK,CAACC,GAAP,EAAW,QAAX,CAAT,CAAlC;AACH;;AACDpB,MAAAA,QAAQ,CAAC;AAACW,QAAAA,IAAI,EAACnB;AAAN,OAAD,CAAR;AACC,KAPK,CAQN;AAEA;;AAEH;AAEJ,CA3BM","sourcesContent":["import { LOGIN_FAIL, LOGIN_SUCCESS, REGISTER_FAIL, REGISTER_SUCCESS } from \"./types\";\nimport axios from \"axios\";\nimport { setAlert } from \"./alert\";\n\n\nexport const registerCustomer=({name,email,password})=>async(dispatch)=>{\n\n    const config={\n        headers:{\n            \"Content-Type\":\"Application/json\",\n        },\n    }\n    const body=JSON.stringify({name,email,password});\n    try{\n        const res= await axios.post(\"http://localhost:4000/api/users/registerCustomer\",body,config);\n        console.log(res.data);\n        dispatch({type:REGISTER_SUCCESS,payload:res.date});\n    }\n    catch(err){\n        if(err.reposnse && err.response.data){\n            const errors=err.response.data.errors;\n        if (errors){\n            errors.forEach((error) => dispatch(setAlert(error.msg,\"danger\")));\n        }\n        dispatch({type:REGISTER_FAIL})\n        }\n        // console.log(\"No error\")\n        \n        // console.log(err.response);\n\n    }\n\n}"]},"metadata":{},"sourceType":"module"}